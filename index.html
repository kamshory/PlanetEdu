<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Planet Edu Question Creator</title>
<style type="text/css">
body{margin:0;padding:0;font-family:Tahoma,Geneva,sans-serif;font-size:12px;color:#050505}.all{padding:10px 10px 0}@media screen and (min-width:1000px){#main{display:flex;align-items:center}#main > div{flex:1}#editor-inner{padding:10px 5px 10px 10px;box-sizing:border-box}#input{height:calc(100vh - 125px);min-height:300px;width:100%;box-sizing:border-box;margin:0;vertical-align:bottom;line-height:1.6;resize:none}#preview-inner{padding:10px 10px 10px 5px;box-sizing:border-box}#preview{height:calc(100vh - 125px);min-height:300px;width:100%;box-sizing:border-box;overflow:auto}#input,#preview{font-family:"Times New Roman",Times,serif;font-size:16px;color:#050505;padding:10px;border:1px solid #DDD}}@media screen and (max-width:999px){#main{padding:10px}#input{min-height:300px;width:100%;box-sizing:border-box;margin:0;vertical-align:bottom}#input,#preview{font-family:"Times New Roman",Times,serif;font-size:16px;color:#050505;padding:10px;border:1px solid #DDD;margin-bottom:10px}}#preview li{line-height:1.6}#preview > ol > li{margin-bottom:10px;padding-bottom:10px}.option-li{position:relative}.option-li span.score{position:absolute;margin-left:-34px;margin-top:-4px;display:block}.option-li span.score::before{content:"\2714";font-size:20px;color:#099600}.title-bar{background-color:#EEE;border:solid #DDD;border-width:1px 1px 0;color:#333;padding:6px 10px;font-size:14px}.footer{border-top:1px solid #DDD;padding:6px 10px}.toolbar-area{padding:4px 10px;background-color:#C3C3C3;border-bottom:1px solid #999}.toolbar-icon{background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAATCAYAAADVoUJyAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAKwwAACsMBNCkkqwAAABZ0RVh0Q3JlYXRpb24gVGltZQAwMS8xNy8xN59iWT8AAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzbovLKMAAACDElEQVRoge2Z7XIDIQhFoZP3f2X6Z00tgwh+RsOd6UyaRTGsB2QXAYCgIiLCmk0odKMQAIhIZwQRzZAgYhW4mgJIn6wxj7j69bIaIiJZAywB90BWmvvfNY+vb9cTK49txNUhMyBEtCzAVl9S5hyxPktGjo32HTIDAvBZkJQy56j1aVkZ0TY9B80LfEC4X54jVv55W6muZfcElvD98vUSEeYgW4H39HyhuTIBMipTWzOvMt503uY2vX57lENSqopeOHgC8Py+fGxAWJfriNUjayNZkqcZ/TRpkLTAMSoO0bTXtQyQGWrNnADrs6cEyfN9Wt/WjC5Ai6WjKgcrt78NuGMB0R4bW8buEIckX0/LxuK/4wFP8tuw2r8kohwLRYhu0rGAnCqhcW+uHNLGN770LV0zb/a8YtwMyZGA9FYPaUN6b3Jrs8t7iJWPzpM/5dq7Yhjnuuo4JWk6IN7jzK5GnGf2ii0A+LM/rxxprl5IrDFeEdust7oCniUVxHpjLDd6RvVI8kDSCwd/itULieVoVRmP0mfP/7dAketn9wI+TQ8kqs0oOLi//OlWixBR/Au166geZGb1yKVVkpFwSP5qlURrir1V5MaMP1pHAbJSEiQtcKRxac6av3ysBonmR7Cv+g/JOgqQFdWD+XtD0jLHbHthfM/wkKAXwPgXZ3w+5xvvpmuzdMob4ug15ugXuMo6IiIHlO4AAAAASUVORK5CYII=) no-repeat 0 0;width:20px;height:20px;display:inline-block;vertical-align:bottom;opacity:.8}.toolbar-icon-new{background-position:2px 0}.toolbar-icon-save{background-position:-20px 0}.toolbar-icon-open{background-position:-42px 0}.toolbar-icon-download{background-position:-64px 0}.toolbar-icon-download-html{background-position:-130px 0}.toolbar-icon-delete{background-position:-86px 0}.toolbar-icon-print{background-position:-108px 0}.toobar{display:inline-block;padding:3px;text-decoration:none;border:1px solid transparent;transition:background-color ease-in .05s}.toobar:hover{border:1px solid #999;background-color:rgba(255,255,255,0.3)}.file-dialog{position:absolute;width:500px;left:50px;top:50px;border:1px solid #999;background-color:#FFF;box-shadow:0 0 3px #DDD}.file-dialog-title{background-color:#e0e0e0;background:#f7f7f7;background:-moz-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:-webkit-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:linear-gradient(to bottom,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#f7f7f7',endColorstr='#e0e0e0',GradientType=0);font-size:14px;padding:5px 5px 5px 10px;color:#474747;text-shadow:1px 1px 0 #FBFBFB}#file-dialog-title-label{padding:2px 0;display:inline-block}#file-dialog-list{height:200px;overflow:auto;border-top:1px solid #999;border-bottom:1px solid #999}#file-dialog-list ul{margin:0;padding:0}#file-dialog-list li{margin:0;padding:0;list-style-type:none}#file-dialog-list li a{padding:6px 10px;text-decoration:none;color:#333;display:block}#file-dialog-list li a:hover{background-color:#FAFAFA}.file-dialog-control{padding:10px 0 10px 10px;background-color:#FBFBFB}#filefrm{position:relative;white-space:nowrap}.file-dialog-control input[type="text"]{width:calc(100% - 160px);border:1px solid #D5D5D5;background-color:#FFF;padding:2px 4px;box-sizing:border-box;height:29px}.file-dialog-control input[type="button"]{width:70px;border:1px solid #D5D5D5;background-color:#e0e0e0;background:#f7f7f7;background:-moz-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:-webkit-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:linear-gradient(to bottom,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#f7f7f7',endColorstr='#e0e0e0',GradientType=0);text-shadow:1px 1px 0 #FBFBFB;padding:2px 10px;box-sizing:border-box;height:29px;color:#474747}</style>
<script type="text/javascript">
function getNumberingType(a,b){var e,c=a.split(".")[0].trim(),d=b.split(".")[0].trim();return e="A"==c&&"B"==d?"upper-alpha":"a"==c&&"b"==d?"lower-alpha":"I"==c&&"II"==d?"upper-roman":"i"==c&&"ii"==d?"lower-roman":"1"==c&&"2"==d?"decimal":""}function optionMatch(a,b){var c=numberingList[b];return"undefined"==typeof c?-1:c.indexOf(a)}function parseQuestion(a){var b,d,e,f,g,h=[],i="",j="",k=[];e=a,f=e.replaceAll("\\\\\n","<br />");var l=f.split("\n");if(l.length>2){g=l[0];for(b in l)l[b]=l[b].trimMask(" \t\r\n\t ");b=1;do if(i=getNumberingType(l[b],l[b+1]),b++,b>=l.length-2)break;while(""==i);for(b=1,d=-1;b<l.length-1;b++)l[b].indexOf(".")>-1?(k=l[b].split("."),j=k[0].trimMask(" \t\r\n\t "),optionMatch(j,i)>-1?(h.push({text:k[1].trimMask(" \t\r\n\t "),score:0}),d++):d==-1?g+="<br />"+l[b]:h[d].text+="<br />"+l[b]):d==-1?g+="<br />"+l[b]:h[d].text+="<br />"+l[b];if(l.length>3)if(l[l.length-1].indexOf(":")>-1){l[l.length-1]=l[l.length-1].replaceAll("\t"," "),k=l[l.length-1].split(":"),j=k[1].trimMask(" \t\r\n\t "),j=j.split(" ")[0].trimMask(" \t\r\n\t ");var m=optionMatch(j,i);m>-1&&m<h.length?h[m].score=1:(k=l[l.length-1].split("."),j=k[0].trimMask(" \t\r\n\t "),optionMatch(j,i)>-1&&h.push({text:k[1].trimMask(" \t\r\n\t "),score:0}))}else l[l.length-1].indexOf(".")>-1&&(k=l[l.length-1].split("."),j=k[0].trimMask(" \t\r\n\t "),optionMatch(j,i)>-1&&h.push({text:k[1].trimMask(" \t\r\n\t "),score:0}))}else h=[],i="",g=l[0];return{question:g,options:h,numbering:i}}function buldOptionHTML(a){var b,c,e="",f="";e+='\r\n\t<ol class="option-ol">';for(b in a.options)c=a.options[b],f=c.score>0?'<span class="score"></span>':"",e+='\r\n\t\t<li class="option-li" style="list-style-type:'+a.numbering+'">'+f+c.text+"</li>";return e+="\r\n\t</ol>"}function buildQuestion(a){var b,c,d;if(b=a.toString(),c=b.replaceAll("\r\n","\n"),c=c.replaceAll("\n\n\n","\n\n"),c=c.replaceAll("\n\n\n","\n\n"),c=c.trimMask(" \t\r\n\t "),c.length>5){var e=c.split("\n\n"),g=[];for(i in e)d=e[i],g.push(parseQuestion(d));return g}return null}function buildQuestionHTML(a){var b,d="";if(null!=a&&a.length>0){d+="\r\n<ol>";for(b in a)d+="\r\n\t<li><span>"+a[b].question+"</span>"+buldOptionHTML(a[b])+"\r\n\t</li>";d+="\r\n</ol>"}return d}function noAnswer(a){var b,c,d,g,f=[];if(null!=a)for(b in a){c=a[b].options,g=0;for(d in c)g+=c[d].score;0==g&&f.push(parseInt(b)+1)}return f}function inputChanged(a){var b=a.target.value,c=document.getElementById("preview"),d=buildQuestion(b);c.innerHTML=buildQuestionHTML(d);var e=noAnswer(d);null==d?document.getElementById("status").innerHTML="":document.getElementById("status").innerHTML="Jumlah soal: "+d.length+" | Soal tanpa jawaban: Nomor "+e.join(", ")}function saveFileData(name,value){var fls=window.localStorage.getItem("filelist")||"[]";fileNameList=eval(fls),fileNameList.indexOf(currentFileName)==-1&&fileNameList.push(currentFileName),window.localStorage.setItem("filelist",JSON.stringify(fileNameList)),window.localStorage.setItem("data_"+name,value),contentModified=!1}function loadFileData(a){var b=window.localStorage.getItem("data_"+a)||"";document.getElementById("input").value=b,document.getElementById("input").focus(),contentModified=!1}function writeFile(){var a=document.getElementById("filename").value;if(a=a.trim().split(" ").join("-"),a=a.replace(/[^0-9A-Za-z_\-\(\)]/gi,""),""==a)alert("Silakan masukkan nama file"),document.getElementById("filename").select();else{currentFileName=a;var b=document.getElementById("input").value;saveFileData(currentFileName,b),document.getElementById("dialog-area").innerHTML=""}}function selectFileList(a){document.getElementById("filename").value=a}function deleteFileFromStorage(){var filename=document.getElementById("filename").value;filename=filename.trim().split(" ").join("-"),filename=filename.replace(/[^0-9A-Za-z_\-\(\)]/gi,"");var i,j,k,l,fls=window.localStorage.getItem("filelist")||"[]";"[null]"==fls&&(fls="[]"),fileNameList=eval(fls);var fls2=[];for(i in fileNameList)fileNameList[i]!=filename&&fls2.push(fileNameList[i]);window.localStorage.removeItem("data_"+filename),window.localStorage.setItem("filelist",JSON.stringify(fls2));var html="<ul>";for(i in fls2)html+="<li><a href=\"javascript:selectFileList('"+fls2[i]+"')\">"+fls2[i]+"</a></li>\r\n";html+="</ul>",document.getElementById("file-dialog-list").innerHTML=html}function deleteFile(){showDialogDeleteFile();var fls=window.localStorage.getItem("filelist")||"[]";fileNameList=eval(fls);var i,j,k,html="<ul>";for(i in fileNameList)html+="<li><a href=\"javascript:selectFileList('"+fileNameList[i]+"')\">"+fileNameList[i]+"</a></li>\r\n";html+="</ul>",document.getElementById("file-dialog-list").innerHTML=html}function openFile(){showDialogOpenFile();var fls=window.localStorage.getItem("filelist")||"[]";fileNameList=eval(fls);var i,j,k,html="<ul>";for(i in fileNameList)html+="<li><a href=\"javascript:selectFileList('"+fileNameList[i]+"')\">"+fileNameList[i]+"</a></li>\r\n";html+="</ul>",document.getElementById("file-dialog-list").innerHTML=html}function saveFile(){showDialogSaveFile(currentFileName);var fls=window.localStorage.getItem("filelist")||"[]";fileNameList=eval(fls);var i,j,k,html="<ul>";for(i in fileNameList)html+="<li><a href=\"javascript:selectFileList('"+fileNameList[i]+"')\">"+fileNameList[i]+"</li>";html+="</ul>",document.getElementById("file-dialog-list").innerHTML=html}function loadFile(){var a=document.getElementById("filename").value;a=a.trim().split(" ").join("-"),a=a.replace(/[^0-9A-Za-z_\-\(\)]/gi,""),""==a?(alert("Silakan masukkan nama file"),document.getElementById("filename").select()):(currentFileName=a,loadFileData(currentFileName),document.getElementById("dialog-area").innerHTML="")}function closeDialogFile(){document.getElementById("dialog-area").innerHTML=""}function showDialogOpenFile(){var a='<div class="file-dialog">\r\n\t<div class="file-dialog-title"><span id="file-dialog-title-label">Buka Soal Ujian</span></div>\r\n    <div id="file-dialog-list">\r\n    </div>\r\n    <div class="file-dialog-control">\r\n    <div class="file-dialog-form">\r\n    \t<form name="filefrm" id="filefrm">\r\n        \t<input type="text" name="filename" id="filename">\r\n            <input type="button" name="openbtn" id="openbtn" value="Buka" onclick="loadFile()">\r\n            <input type="button" name="closebtn" id="closebtn" value="Batal" onclick="closeDialogFile()">\r\n        </form>\r\n    </div>\r\n    </div>\r\n</div>\r\n',b=document.getElementById("dialog-area");b.innerHTML=a}function showDialogDeleteFile(){var a='<div class="file-dialog">\r\n\t<div class="file-dialog-title"><span id="file-dialog-title-label">Hapus Soal Ujian</span></div>\r\n    <div id="file-dialog-list">\r\n    </div>\r\n    <div class="file-dialog-control">\r\n    <div class="file-dialog-form">\r\n    \t<form name="filefrm" id="filefrm">\r\n        \t<input type="text" name="filename" id="filename">\r\n            <input type="button" name="deletebtn" id="deletebtn" value="Hapus" onclick="deleteFileFromStorage()">\r\n            <input type="button" name="closebtn" id="closebtn" value="Batal" onclick="closeDialogFile()">\r\n        </form>\r\n    </div>\r\n    </div>\r\n</div>\r\n',b=document.getElementById("dialog-area");b.innerHTML=a}function showDialogSaveFile(a){a=a||"";var b='<div class="file-dialog">\r\n\t<div class="file-dialog-title"><span id="file-dialog-title-label">Simpan Soal Ujian</span></div>\r\n    <div id="file-dialog-list">\r\n    </div>\r\n    <div class="file-dialog-control">\r\n    <div class="file-dialog-form">\r\n    \t<form name="filefrm" id="filefrm">\r\n        \t<input type="text" name="filename" id="filename">\r\n            <input type="button" name="savebtn" id="savebtn" value="Simpan" onclick="writeFile()">\r\n            <input type="button" name="closebtn" id="closebtn" value="Batal" onclick="closeDialogFile()">\r\n        </form>\r\n    </div>\r\n    </div>\r\n</div>\r\n',c=document.getElementById("dialog-area");c.innerHTML=b,document.getElementById("filename").value=a}function newFile(){contentModified?confirm("Apakah Anda akan menyimpan "+currentFileName)&&(currentFileName="",document.getElementById("input").value="",document.getElementById("preview").innerHTML=""):(currentFileName="",document.getElementById("input").value="",document.getElementById("preview").innerHTML="")}function downloadFile(){var a=document.getElementById("input").value;a=a.replaceAll("\n","\r\n");var b=new Blob([a],{type:"text/plain"});saveAs(b,""!=currentFileName?currentFileName+".txt":"Soal-Ujian.txt","text/plain")}function downloadFileHTML(){var a='<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<style type="text/css">span.score{display:none;}</style>\r\n<title>Soal Ujian</title>\r\n</head>\r\n<body>\r\n'+document.getElementById("preview").innerHTML+"\r\n</body>\r\n</html>";a=a.split('<span class="score"></span>').join("");var b=new Blob([a],{type:"text/html"});saveAs(b,""!=currentFileName?currentFileName+".html":"Soal-Ujian.html","text/html")}function printDiv(a){window.frames.print_frame.document.body.innerHTML=document.getElementById(a).innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print()}function printFile(){var a=document.createElement("iframe");a.setAttribute("id","print_frame"),a.setAttribute("name","print_frame"),a.setAttribute("width","0"),a.setAttribute("height","0"),a.setAttribute("frameborder","0"),a.setAttribute("src","about:blank"),a.style.position="absolute",a.style.top="-10000px",a.style.left="-10000px";var b=document.getElementsByTagName("body")[0];b.appendChild(a),printDiv("preview"),a.remove()}String.prototype.replaceAll=function(a,b,c){return this.replace(new RegExp(a.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),c?"gi":"g"),"string"==typeof b?b.replace(/\$/g,"$$$$"):b)},String.prototype.trimMask=function(a){for(var b=this.trim();~a.indexOf(b[0]);)b=b.slice(1);for(;~a.indexOf(b[b.length-1]);)b=b.slice(0,-1);return b};var saveAs=saveAs||function(a){"use strict";if(!("undefined"==typeof a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=4e4,l=function(a){var b=function(){"string"==typeof a?c().revokeObjectURL(a):a.remove()};setTimeout(b,k)},m=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){i(a)}}},n=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},o=function(b,i,k){k||(b=n(b));var r,o=this,p=b.type,q=p===j,s=function(){m(o,"writestart progress write writeend".split(" "))},t=function(){if((h||q&&g)&&a.FileReader){var d=new FileReader;return d.onloadend=function(){var b=h?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;"),c=a.open(b,"_blank");c||(a.location.href=b),b=void 0,o.readyState=o.DONE,s()},d.readAsDataURL(b),void(o.readyState=o.INIT)}if(r||(r=c().createObjectURL(b)),q)a.location.href=r;else{var e=a.open(r,"_blank");e||(a.location.href=r)}o.readyState=o.DONE,s(),l(r)};return o.readyState=o.INIT,e?(r=c().createObjectURL(b),void setTimeout(function(){d.href=r,d.download=i,f(d),s(),l(r),o.readyState=o.DONE})):void t()},p=o.prototype,q=function(a,b,c){return new o(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=n(a)),navigator.msSaveOrOpenBlob(a,b)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content),numberingList={"upper-alpha":["A","B","C","D","E","F","G","H","I","J"],"lower-alpha":["a","b","c","d","e","f","g","h","i","j"],"upper-roman":["I","II","III","IV","V","VI","VII","VIII","IX","X"],"lower-roman":["i","ii","iii","iv","v","vi","vii","vii","ix","x"],decimal:["1","2","3","4","5","6","7","8","9","10"]},contentModified=!0,currentFileName="",fileNameList=[];window.onload=function(){document.getElementById("input").addEventListener("change",function(a){inputChanged(a),contentModified=!0}),document.getElementById("input").addEventListener("keyup",function(a){inputChanged(a)}),document.getElementById("input").addEventListener("focus",function(a){inputChanged(a)}),document.getElementById("input").focus()};
</script>
</head>

<body>
<div id="all">

<div class="toolbar-area">
	<a class="toobar" href="javascript:newFile()" title="Buat Ujian Baru"><span class="toolbar-icon toolbar-icon-new"></span></a>
	<a class="toobar" href="javascript:saveFile()" title="Simpan Soal Ujian"><span class="toolbar-icon toolbar-icon-save"></span></a>
	<a class="toobar" href="javascript:openFile()" title="Buka Soal Ujian"><span class="toolbar-icon toolbar-icon-open"></span></a>
	<a class="toobar" href="javascript:downloadFile()" title="Unduh Soal Ujian"><span class="toolbar-icon toolbar-icon-download"></span></a>
	<a class="toobar" href="javascript:downloadFileHTML()" title="Ekspor Soal Ujian"><span class="toolbar-icon toolbar-icon-download-html"></span></a>
	<a class="toobar" href="javascript:printFile()" title="Cetak Soal Ujian"><span class="toolbar-icon toolbar-icon-print"></span></a>
	<a class="toobar" href="javascript:deleteFile()" title="Hapus Soal Ujian"><span class="toolbar-icon toolbar-icon-delete"></span></a>
</div>

	<div id="main">
	<div id="editor-area">
    	<div id="editor-inner">
            <div class="title-bar">Tempat Mengetik Soal</div>
            <textarea id="input" name="input" spellcheck="false" placeholder="Tulis soal ujian di sini"></textarea>
        </div>
    </div>
    <div id="preview-area">
    	<div id="preview-inner">
            <div class="title-bar">Tinjauan Soal</div>
        	<div id="preview"></div>
        </div>
    </div>
    </div>
</div>
<div class="footer">
<div id="status"></div>
</div>
<div id="dialog-area"></div>
</body>
</html>
