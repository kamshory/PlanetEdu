<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Planet Edu Test Editor</title>
<link rel="shortcut icon" type="image/jpeg" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAIAAACQkWg2AAACC0lEQVQokWOQcM2UcM2QcE4Tc0plM4nktYqTdEkXd07DRBIuGZJuWQwSLhmSbtmSngWyPkXOuX1GcU1i7rlSngXoyKtA0i1b0jWTQdw5TcqzUCa0RTux9+CjP/Urzwh6V0mHNEmHNMmFtciHtchBUHiblFehhEs6REOBTEiTVnz39hufC+YcZHEs1I7v1I7vFPKpFvGtkQ9rlgttkgtrkfIqQNew9sK7Wbuv7T936////////z9+9YF7yUwBryr5sGYsGtRiu3ZcfQtRuvPUjZ2nbkDYrsUzRPxqsGhQjel68+XXnz9/A6rnsTqVsDqVBFTP+////4XbTwS9q9E1SAc36Sf1/P//f/fpm6xOJfJhzfJhzaxOJTtP3/z//79OfJd0SBOKBqngRsPknv///28+dp3duVQ+rEk+rInXvaxp1ent1z9qxHbK4NLw5MNPi9wZfO5lfO5ltvkzd9z80rf1qiimH2Aa/r369n/jlY+NK083rDy18+aX7dc/mWdNkQioxaXh/74L92uWn9py9eOWqx/7t141z5oi6luNJVjhGpbtOctkX6ge26ke2ynqVyMRUIs14gqlQpqNU/v///+/7eQNLvdKmZAmmZAmOXi6QE4a8MQn71ccVTXFKaNNxC1XyqsAAxVCE5+kW5akW6akS7qYUxqjQQSHeZy0W4aESzomknTNlHLLAgDZlTUL7LxwowAAAABJRU5ErkJgggA="/>
<style type="text/css">
body{margin:0;padding:0;font-family:Tahoma,Geneva,sans-serif;font-size:12px;color:#050505}.all{padding:10px 10px 0}textarea:focus{outline:none}@media screen and (min-width:1000px){#main{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}#main > div{flex:1;width:50%}#editor-inner{padding:10px 5px 10px 10px;box-sizing:border-box}#input{height:480px;height:-webkit-calc(100% - 125px);height:-moz-calc(100% - 125px);height:calc(100vh - 125px);min-height:300px;width:100%;box-sizing:border-box;margin:0;vertical-align:bottom;line-height:1.6;resize:none}#preview{height:480px;height:-webkit-calc(100% - 125px);height:-moz-calc(100% - 125px);height:calc(100vh - 125px);min-height:300px;width:100%;box-sizing:border-box;margin:0;vertical-align:bottom;line-height:1.6;resize:none}#preview-area{max-width:50%}#preview-inner{padding:10px 10px 10px 5px;box-sizing:border-box}#preview{height:calc(100vh - 125px);min-height:300px;width:100%;box-sizing:border-box;overflow:auto}#input,#preview{font-family:"Times New Roman",Times,serif;font-size:16px;color:#050505;padding:10px;border:1px solid #DDD}}@media screen and (max-width:999px){#main{padding:10px}#input{min-height:300px;width:100%;box-sizing:border-box;margin:0;vertical-align:bottom;resize:none}#input,#preview{font-family:"Times New Roman",Times,serif;font-size:16px;color:#050505;padding:10px;border:1px solid #DDD;margin-bottom:10px}#preview{height:calc(100vh - 490px);overflow:auto;min-height:100px}}#preview ol li > span{display:block;line-height:1.6}#preview1 > li,#preview2 > li{line-height:1.6}#preview1 > ol > li,#preview2 > ol > li{margin-bottom:10px;padding-bottom:10px}#preview1 > ol > li > ol,#preview2 > ol > li > ol{margin-left:45px;padding:0}.option-li{position:relative;line-height:1.6}.option-li span.score{position:absolute;margin-left:-38px;margin-top:-3px;display:inline-block;width:18px;overflow:hidden}.option-li span.score::before{content:"\2714";font-size:18px;color:#099600}.title-bar{background-color:#EEE;border:solid #DDD;border-width:1px 1px 0;color:#333;padding:6px 10px;font-size:13px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.footer{border-top:1px solid #DDD;padding:6px 10px}#status{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.toolbar-area{padding:4px 10px;background-color:#C3C3C3;border-bottom:1px solid #ADADAD}.toolbar-icon{background:url(data:image/png;base64,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) no-repeat;width:20px;height:20px;display:inline-block;vertical-align:bottom;opacity:.8}.toolbar-icon-new{background-position:2px 0}.toolbar-icon-save{background-position:-20px 0}.toolbar-icon-open{background-position:-42px 0}.toolbar-icon-download{background-position:-64px 0}.toolbar-icon-upload{background-position:-152px 0}.toolbar-icon-download-html{background-position:-130px 0}.toolbar-icon-download-xml{background-position:-174px 0}.toolbar-icon-delete{background-position:-86px 0}.toolbar-icon-print{background-position:-108px 0}.toolbar-icon-enter{background-position:-198px 0}.toolbar-icon-download-word{background-position:-222px 0}.toolbar-icon-append{background-position:-244px 0}.toolbar-icon-image{background-position:-266px 0}.toolbar-icon-restart{background-position:-288px 0}.toolbar-icon-continue{background-position:-310px 0}.toobar{display:inline-block;padding:4px;text-decoration:none;border:1px solid transparent;transition:background-color ease-in .05s}.toobar:hover,.toolbar-selected{border:1px solid #BABABA;background-color:rgba(255,255,255,0.3)}.block-button{padding:2px 10px}.block-button a{display:block;color:#555;text-decoration:none;text-align:center;border:1px solid #D5D5D5;background-color:#e0e0e0;background:#f7f7f7;background:-moz-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:-webkit-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:linear-gradient(to bottom,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#f7f7f7',endColorstr='#e0e0e0',GradientType=0);text-shadow:1px 1px 0 #FBFBFB;padding:6px 0;box-sizing:border-box;color:#474747;transition:box-sadow ease-in .3s}.file-dialog{position:absolute;width:540px;left:10px;top:49px;border:1px solid #BABABA;background-color:#FFF;box-shadow:0 0 3px #DDD;opacity:0;transition:opacity ease-in-out .2s}#dialog-area[data-dialog-shown="false"] .file-dialog{opacity:0}#dialog-area[data-dialog-shown="true"] .file-dialog{opacity:1}@keyframes saving{0%{width:100%;height:100vh;opacity:1}99%{width:0;height:0}100%{opacity:0}}#animation-saving{border:1px dotted #000;position:absolute;position:fixed;width:100%;height:100vh;left:0;top:0;box-sizing:border-box;opacity:1}#animation-saving[data-anim="true"]{width:0;height:0;animation-name:saving;animation-duration:.4s;animation-iteration-count:1;animation-timing-function:ease-in-out}.file-dialog-title,.pb-dialog-title{background-color:#e0e0e0;background:#f7f7f7;background:-moz-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:-webkit-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:linear-gradient(to bottom,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#f7f7f7',endColorstr='#e0e0e0',GradientType=0);font-size:14px;padding:5px 5px 5px 10px;color:#474747;text-shadow:1px 1px 0 #FBFBFB}#file-dialog-title-label{padding:2px 0;display:inline-block}#file-dialog-list{height:250px;overflow:auto;border-top:1px solid #BABABA;border-bottom:1px solid #BABABA;position:relative}.progressbar{height:4px;background-color:#EEE;display:none;position:absolute;left:0;top:0;width:100%}.progressbar-inner{height:4px;background-color:#17607d;width:0}#file-dialog-list ul{margin:0;padding:0}#file-dialog-list li{margin:0;padding:0;list-style-type:none}#file-dialog-list li a{padding:6px 10px;text-decoration:none;color:#333;display:block}#file-dialog-list li a:hover{background-color:#FAFAFA}.file-dialog-control{padding:10px 0 10px 10px;background-color:#FBFBFB}#filefrm{position:relative;white-space:nowrap}.file-dialog-control input[type="text"]{width:calc(100% - 180px);border:1px solid #D5D5D5;background-color:#FFF;padding:2px 4px;box-sizing:border-box;height:29px}.file-dialog-control input[type="button"],.pb-dialog-container button{width:80px;border:1px solid #D5D5D5;background-color:#e0e0e0;background:#f7f7f7;background:-moz-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:-webkit-linear-gradient(top,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);background:linear-gradient(to bottom,rgba(247,247,247,1) 0%,rgba(224,224,224,1) 100%);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#f7f7f7',endColorstr='#e0e0e0',GradientType=0);text-shadow:1px 1px 0 #FBFBFB;padding:2px 0;box-sizing:border-box;height:29px;color:#474747;transition:box-sadow ease-in .3s}.file-dialog-control input[type="button"]:hover,.pb-dialog-container button:hover{box-shadow:0 0 3px #c6d1e9}.file-dialog-close-icon{float:right;display:block;width:20px;height:20px;background-color:#f5f5f5;margin-right:6px;margin-top:1px;border-radius:1px;border:1px solid #DDD;box-sizing:border-box;text-align:center;text-decoration:none;color:#555;opacity:.8}.file-dialog-close-icon:hover{border:1px solid #97A6B3;color:#616F7A}.file-dialog-close-icon span{text-align:center;text-decoration:none;line-height:1.2}.file-dialog-close-icon span::before{content:"\2716";display:block;width:18px;height:18px;vertical-align:bottom}.pb-dialog-container{position:absolute;left:0;top:0}.pb-dialog{position:absolute;width:320px;left:calc(50vw - 160px);top:calc(50vh - 100px);border:1px solid #DDD;box-sizing:border-box;background-color:#FFF;z-index:20}.pb-dialog-content{min-height:120px;padding:10px;box-sizing:border-box}.pb-dialog-content p{line-height:1.6;margin:0;padding:2px 0}.pb-dialog-title h3{padding:1px 0;margin:0;font-weight:400;font-size:16px;color:#444;text-shadow:1px 1px 0 #F5F5F5}.pb-dialog-buttons{background-color:#F3F3F3;border-top:1px solid #DDD;text-align:right;padding:8px 10px}.pb-dialog-cover{position:absolute;position:fixed;z-index:10;left:0;right:0;top:0;height:100vh;background-color:#000;opacity:.08}#remote-image-list{padding:10px}#remote-image-list .img-li{display:inline-block;margin-bottom:4px}#remote-image-list .img-li a{border:1px solid #EEE;padding:2px;display:inline-block}#remote-image-list .img-li img{height:80px;vertical-align:bottom}#preview ol li table{border-collapse:collapse;margin-top:2px;margin-bottom:2px}#preview ol li table td{padding:3px 5px}#preview ol li table td table{margin-top:0;margin-bottom:0}#preview ol li table[border="1"]{border-collapse:collapse}#preview ol li table[border="1"] td{padding:4px 5px}#preview ol li table[border="0"] td{padding:4px 0}#preview ol li table[border="1"] thead td{font-weight:700;background-color:#CCC}#preview ol li table[border="1"] tfoot td{background-color:#F8F8F8}#preview ol li p{margin:0;padding:2px 0}@media only screen{#question-separator{height:1px;border-bottom:1px dotted #000;margin-bottom:10px}}ol.option-ol{position:relative;margin-top:4px;margin-bottom:4px}ol.option-ol:before{content:"";position:absolute;left:0;top:0;bottom:0;width:2px;background-color:#CCC;left:-45px}ol.option-ol > li{position:relative}ol.option-ol > li:first-child::before{content:"";position:absolute;width:8px;height:2px;background-color:#CCC;left:-45px;top:0}ol.option-ol > li:last-child::after{content:"";position:absolute;width:8px;height:2px;background-color:#CCC;left:-45px;bottom:0}
</style>
<script type="text/javascript">
function getNumberingType(a,b){var e,c=a.split(".")[0].trim(),d=b.split(".")[0].trim();return e="A"==c&&"B"==d?"upper-alpha":"a"==c&&"b"==d?"lower-alpha":"I"==c&&"II"==d?"upper-roman":"i"==c&&"ii"==d?"lower-roman":"1"==c&&"2"==d?"decimal":"01"==c&&"02"==d?"decimal-leading-zero":"upper-alpha"}function optionMatch(a,b){var c=numberingList[b];return"undefined"==typeof c?-1:c.indexOf(a)}function parseQuestion(a){var b,d,e,f,g,h=[],i="",j="",k=[];k=a.split("\n");for(b in k)k[b]=k[b].trimMask(" \r\n\t ");a=k.join("\n"),k=[],e=a,f=e.replaceAll("\\\\\n","<br />");var l=f.split("\n");if(l.length>=3){g=l[0];for(b in l)l[b]=l[b].trimMask(" \r\n\t ");b=1;do if(i=getNumberingType(l[b],l[b+1]),b++,b>=l.length-2)break;while(""==i);for(b=1,d=-1;b<l.length-1;b++)l[b].indexOf(".")>-1?(k=l[b].splitWithLimit(".",2),j=k[0].trimMask(" \r\n\t "),optionMatch(j,i)>-1?(h.push({text:k[1].trimMask(" \r\n\t "),score:0}),d++):d==-1?g+="<br />"+l[b]:h[d].text+="<br />"+l[b]):d==-1?g+="<br />"+l[b]:h[d].text+="<br />"+l[b];if(l.length>3){var m=!0;if(l[l.length-1].countSubstring(":")==l[l.length-1].countSubstring("\\\\:")&&(m=!1),l[l.length-1].indexOf(":")>-1&&m){l[l.length-1]=l[l.length-1].replaceAll("\t"," "),k=l[l.length-1].splitWithLimit(":",2),j=k[1].trimMask(" \r\n\t "),j=j.split(" ")[0].trimMask(" \r\n\t ");var n=optionMatch(j,i);n>-1&&n<h.length?h[n].score=1:(k=l[l.length-1].splitWithLimit(".",2),j=k[0].trimMask(" \r\n\t "),optionMatch(j,i)>-1&&h.push({text:k[1].trimMask(" \r\n\t "),score:0}))}else l[l.length-1].indexOf(".")>-1&&(k=l[l.length-1].splitWithLimit(".",2),j=k[0].trimMask(" \r\n\t "),optionMatch(j,i)>-1&&h.push({text:k[1].trimMask(" \r\n\t "),score:0}))}}else h=[],i="upper-alpha",g=l[0];g.replaceAll("\\\\:",":");for(b in h)h[b].text=h[b].text.replaceAll("\\\\:",":");return{question:g,options:h,numbering:i}}function buldOptionHTML(a,b,c){b=b||!1,c=c||"";var d,e,g="",h="";"undefined"==typeof a.numbering&&(a.numbering="upper-alpha"),g+='\r\n\t<ol class="option-ol" start="'+numberingList[a.numbering][0]+'" style="list-style-type:'+a.numbering+'">';for(d in a.options)e=a.options[d],h=e.score>0?'<span class="score"></span>':"",g+='\r\n\t\t<li class="option-li">'+h+e.text.escapeHTMLEntities().restoreBR().addImage(b,c)+"</li>";return g+="\r\n\t</ol>"}function buildQuestionHTML(a,b,c){b=b||!1,c=c||"";var d,f="";if(null!=a&&a.length>0){f+='\r\n<ol class="question-ol">';for(d in a)f+="\r\n\t<li><span>"+a[d].question.escapeHTMLEntities().restoreBR().addImage(b,c)+"</span>"+buldOptionHTML(a[d],b,c)+"\r\n\t</li>";f+="\r\n</ol>"}return f}function buildQuestion(a){var b,c,d;for(b=a.toString(),c=b.replaceAll("\r\n","\n");c.indexOf("\n\n\n")>-1;)c=c.replaceAll("\n\n\n","\n\n");if(c=c.trimMask(" \r\n\t "),c.length>5){var e=c.split("\n\n"),g=[];for(i in e)d=e[i].trimMask(" \r\n\t "),""!=d&&g.push(parseQuestion(d));return g}return null}function noAnswer(a){var b,c,d,g,f=[];if(null!=a)for(b in a){c=a[b].options,g=0;for(d in c)g+=c[d].score;0==g&&f.push(parseInt(b)+1)}return f}function inputChanged(a){var b=a.target.value,c=document.getElementById("preview2"),d=buildQuestion(b);c.innerHTML=buildQuestionHTML(d,parseImg,baseIMGURL);var e=noAnswer(d);if(null==d)document.getElementById("status").innerHTML="";else{var f="";f="Jumlah soal: "+d.length,e.length&&(f+=" | Tanpa jawaban: Nomor "+e.join(", ")),document.getElementById("status").innerHTML=f}}function saveFileData(name,value){var fls=window.localStorage.getItem("filelist")||"[]";fileNameList=eval(fls),fileNameList.indexOf(currentFileName)==-1&&fileNameList.push(currentFileName),window.localStorage.setItem("filelist",JSON.stringify(fileNameList)),window.localStorage.setItem("data_"+name,value),contentModified=!1}function loadFileData(a){var b=window.localStorage.getItem("data_"+a)||"";document.getElementById("input").value=b,document.getElementById("input").focus(),contentModified=!1}function writeFile(){var a=document.getElementById("filename").value;if(a=a.trim(),a=a.replace(/[^0-9A-Za-z_\-\(\)]/gi," "),a=a.replace(/ {1,}/g," ").trim(),""==a)alert("Silakan masukkan nama file"),document.getElementById("filename").select();else{currentFileName=a;var b=document.getElementById("input").value;saveFileData(currentFileName,b),closeDialogFile()}}function selectFileList(a){document.getElementById("filename").value=a}function deleteFileFromStorage(){var filename=document.getElementById("filename").value;pbDialog({modal:!0,width:360,height:190,title:"Konfirmasi",content:"<p>Apakah Anda akan menghapus ujian ini?</p>",buttons:{Ya:function(){filename=filename.trim(),filename=filename.replace(/[^0-9A-Za-z_\-\(\)]/gi," "),filename=filename.replace(/ {1,}/g," ").trim();var i,j,k,l,fls=window.localStorage.getItem("filelist")||"[]";"[null]"==fls&&(fls="[]"),fileNameList=eval(fls);var fls2=[];for(i in fileNameList)fileNameList[i]!=filename&&fls2.push(fileNameList[i]);window.localStorage.removeItem("data_"+filename),window.localStorage.setItem("filelist",JSON.stringify(fls2));var html="<ul>";for(i in fls2)html+="<li><a href=\"javascript:selectFileList('"+fls2[i]+"')\">"+fls2[i]+"</a></li>\r\n";html+="</ul>",document.getElementById("file-dialog-list").innerHTML=html,document.getElementById("filename").value="",closeDialog()},Tidak:function(){closeDialog()}}})}function deleteFile(){showDialogDeleteFile();var fls=window.localStorage.getItem("filelist")||"[]";fileNameList=eval(fls);var i,j,k,html="<ul>";for(i in fileNameList)html+='<li class="file-item"><a href="javascript:selectFileList(\''+fileNameList[i]+"')\">"+fileNameList[i]+"</a></li>\r\n";html+="</ul>",document.getElementById("file-dialog-list").innerHTML=html}function openFile(){showDialogOpenFile();var fls=window.localStorage.getItem("filelist")||"[]";fileNameList=eval(fls);var i,j,k,html="<ul>";for(i in fileNameList)html+='<li class="file-item"><a href="javascript:selectFileList(\''+fileNameList[i]+"')\">"+fileNameList[i]+"</a></li>\r\n";html+="</ul>",document.getElementById("file-dialog-list").innerHTML=html}function saveFileAs(){showDialogSaveFile(currentFileName);var fls=window.localStorage.getItem("filelist")||"[]";fileNameList=eval(fls);var i,j,k,html="<ul>";for(i in fileNameList)html+='<li class="file-item"><a href="javascript:selectFileList(\''+fileNameList[i]+"')\">"+fileNameList[i]+"</li>";html+="</ul>",document.getElementById("file-dialog-list").innerHTML=html}function loadFile(){var a=document.getElementById("filename").value;a=a.trim(),a=a.replace(/[^0-9A-Za-z_\-\(\)]/gi," "),a=a.replace(/ {1,}/g," ").trim(),""==a?(alert("Silakan masukkan nama file"),document.getElementById("filename").select()):(currentFileName=a,loadFileData(currentFileName),closeDialogFile())}function closeDialogFile(){var a=document.getElementById("dialog-area");a.setAttribute("data-dialog-shown","false"),setTimeout(function(){a.innerHTML=""},200)}function enterSign(){insertAtCursor(document.getElementById("input"),"\\\\\n")}function insertImageString(){var a=document.getElementById("filename").value;""==a?(alert("Silakan masukkan nama file"),document.getElementById("filename").select()):(insertAtCursor(document.getElementById("input"),"img:"+a+" "),closeDialogFile())}function uploadImage(){document.getElementById("image").click()}function insertImage(){var a='<div class="file-dialog">\r\n\t<div class="file-dialog-title"><a class="file-dialog-close-icon" href="javascript:closeDialogFile();"><span></span></a><span id="file-dialog-title-label">Masukkan Gambar</span></div>\r\n    <div id="file-dialog-list">\r\n    </div>\r\n    <div class="file-dialog-control">\r\n    <div class="file-dialog-form">\r\n    \t <form name="filefrm" id="filefrm" onsubmit="insertImageString(); return false;">\r\n        \t <input type="text" name="filename" id="filename" autocomplete="off" style="width:calc(100% - 264px);">\r\n            <input type="button" name="openbtn" id="openbtn" value="Masukkan" onclick="insertImageString()">\r\n            <input type="button" name="uploadbtn" id="openbtn" value="Unggah" onclick="uploadImage()">\r\n            <input type="button" name="closebtn" id="closebtn" value="Batal" onclick="closeDialogFile()">\r\n        </form>\r\n    </div>\r\n    </div>\r\n</div>\r\n',b=document.getElementById("dialog-area");b.innerHTML=a,b.setAttribute("data-dialog-shown","true")}function showDialogOpenFile(){var a='<div class="file-dialog">\r\n\t<div class="file-dialog-title"><a class="file-dialog-close-icon" href="javascript:closeDialogFile();"><span></span></a><span id="file-dialog-title-label">Buka Soal Ujian</span></div>\r\n    <div id="file-dialog-list">\r\n    </div>\r\n    <div class="file-dialog-control">\r\n    <div class="file-dialog-form">\r\n    \t <form name="filefrm" id="filefrm" onsubmit="loadFile(); return false;">\r\n        \t <input type="text" name="filename" id="filename">\r\n            <input type="button" name="openbtn" id="openbtn" value="Buka" onclick="loadFile()">\r\n            <input type="button" name="closebtn" id="closebtn" value="Batal" onclick="closeDialogFile()">\r\n        </form>\r\n    </div>\r\n    </div>\r\n</div>\r\n',b=document.getElementById("dialog-area");b.innerHTML=a,b.setAttribute("data-dialog-shown","true")}function showDialogDeleteFile(){var a='<div class="file-dialog">\r\n\t<div class="file-dialog-title"><a class="file-dialog-close-icon" href="javascript:closeDialogFile();"><span></span></a><span id="file-dialog-title-label">Hapus Soal Ujian</span></div>\r\n    <div id="file-dialog-list">\r\n    </div>\r\n    <div class="file-dialog-control">\r\n    <div class="file-dialog-form">\r\n    \t <form name="filefrm" id="filefrm" onsubmit="deleteFileFromStorage(); return false;">\r\n        \t <input type="text" name="filename" id="filename">\r\n            <input type="button" name="deletebtn" id="deletebtn" value="Hapus" onclick="deleteFileFromStorage()">\r\n            <input type="button" name="closebtn" id="closebtn" value="Tutup" onclick="closeDialogFile()">\r\n        </form>\r\n    </div>\r\n    </div>\r\n</div>\r\n',b=document.getElementById("dialog-area");b.innerHTML=a,b.setAttribute("data-dialog-shown","true")}function showDialogSaveFile(a){a=a||"";var b='<div class="file-dialog">\r\n\t<div class="file-dialog-title"><a class="file-dialog-close-icon" href="javascript:closeDialogFile();"><span></span></a><span id="file-dialog-title-label">Simpan Soal Ujian</span></div>\r\n    <div id="file-dialog-list">\r\n    </div>\r\n    <div class="file-dialog-control">\r\n    <div class="file-dialog-form">\r\n    \t <form name="filefrm" id="filefrm" onsubmit="writeFile(); return false;">\r\n        \t <input type="text" name="filename" id="filename">\r\n            <input type="button" name="savebtn" id="savebtn" value="Simpan" onclick="writeFile()">\r\n            <input type="button" name="closebtn" id="closebtn" value="Batal" onclick="closeDialogFile()">\r\n        </form>\r\n    </div>\r\n    </div>\r\n</div>\r\n',c=document.getElementById("dialog-area");c.innerHTML=b,c.setAttribute("data-dialog-shown","true"),document.getElementById("filename").value=a}function newFile(){var a=document.getElementById("input").value;contentModified?pbDialog(""!=currentFileName?{modal:!0,width:360,height:190,title:"Konfirmasi",content:"<p>Apakah Anda akan menyimpan "+currentFileName+"?</p>",buttons:{Ya:function(){saveFileData(currentFileName,a),animateSaving(),contentModified=!1,currentFileName="",document.getElementById("input").value="",document.getElementById("preview2").innerHTML="",closeDialog()},Tidak:function(){contentModified=!1,currentFileName="",document.getElementById("input").value="",document.getElementById("preview2").innerHTML="",closeDialog()},Batal:function(){closeDialog()}}}:{modal:!0,width:360,height:190,title:"Konfirmasi",content:"<p>Apakah Anda akan menyimpan soal-soal ini?</p>",buttons:{Ya:function(){closeDialog(),saveFileAs()},Tidak:function(){closeDialog(),contentModified=!1,currentFileName="",document.getElementById("input").value="",document.getElementById("preview2").innerHTML=""},Batal:function(){closeDialog()}}}):(currentFileName="",document.getElementById("input").value="",document.getElementById("preview2").innerHTML="")}function restartQuestion(){document.getElementById("toolbar-continue").classList.remove("toolbar-selected"),document.getElementById("toolbar-restart").classList.add("toolbar-selected")}function continueQuestion(){document.getElementById("toolbar-restart").classList.remove("toolbar-selected"),document.getElementById("toolbar-continue").classList.add("toolbar-selected")}function appendToTest(){pbDialog({modal:!0,width:360,height:190,title:"Memasukkan Soal",content:"<p>Apakah Anda akan memasukkan soal-soal ini ke dalam ujian?</p>",buttons:{Ya:function(){closeDialog()},Tidak:function(){closeDialog()}}})}function downloadFile(){var a=document.getElementById("input").value;a=a.replaceAll("\n","\r\n");var b=new Blob([a],{type:"text/plain"});saveAs(b,""!=currentFileName?currentFileName+".txt":"Soal-Ujian.txt","text/plain")}function downloadFileHTML(){var a='<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<style type="text/css">span.score{display:none;}</style>\r\n<title>Soal Ujian</title>\r\n</head>\r\n<body>\r\n'+document.getElementById("preview2").innerHTML+"\r\n</body>\r\n</html>";a=a.split('<span class="score"></span>').join("");var b=new Blob([a],{type:"text/html"});saveAs(b,""!=currentFileName?currentFileName+".html":"Soal-Ujian.html","text/html")}function downloadFileWord(){var a='<!DOCTYPE html>\r\n<html xmlns="http://www.w3.org/1999/xhtml">\r\n<head>\r\n<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\r\n<style type="text/css">span.score{display:none;} .container{} .container p, .container li{line-height:1.6;}</style>\r\n<title>Soal Ujian</title>\r\n</head>\r\n<body>\r\n<div class="container">\r\n'+document.getElementById("preview2").innerHTML+"\r\n</div>\r\n</body>\r\n</html>";a=a.split('<span class="score"></span>').join("");var b=new Blob([a],{type:"application/vnd.doc"});saveAs(b,""!=currentFileName?currentFileName+".doc":"Soal-Ujian.doc","application/vnd.doc")}function toXML(a,b){return"<"+a+">"+b+"</"+a+">\r\n"}function downloadFileXML(){var b,c,f,g,h,i,a=buildQuestion(document.getElementById("input").value);i='<?xml version="1.0" encoding="utf-8"?>\r\n<test>\r\n';for(b in a){f=a[b],g=f.options,i+="<item>\r\n",i+="<question><text>"+f.question.escapeHTMLEntities().escapeHTML()+"</text><random>1</random><numbering>"+f.numbering+"</numbering></question>\r\n",i+="<answer>\r\n";for(c in g)h=g[c],i+="<option><text>"+h.text.escapeHTMLEntities().escapeHTML()+"</text><value>"+h.score+"</value></option>";i+="</answer>\r\n",i+="</item>\r\n"}i+="</test>\r\n";var j=new Blob([i],{type:"text/xml"});saveAs(j,""!=currentFileName?currentFileName+".xml":"Soal-Ujian.xml","text/xml")}function uploadFile(){document.getElementById("file").click()}function printDiv(a){window.frames.print_frame.document.body.innerHTML=document.getElementById(a).innerHTML,window.frames.print_frame.window.focus(),window.frames.print_frame.window.print()}function printFile(){var a=document.createElement("iframe");a.setAttribute("id","print_frame"),a.setAttribute("name","print_frame"),a.setAttribute("width","0"),a.setAttribute("height","0"),a.setAttribute("frameborder","0"),a.setAttribute("src","about:blank"),a.style.position="absolute",a.style.top="-10000px",a.style.left="-10000px";var b=document.getElementsByTagName("body")[0];b.appendChild(a),printDiv("preview2"),a.remove()}function animateSaving(){el=document.createElement("div"),el.setAttribute("id","animation-saving"),document.getElementsByTagName("body")[0].appendChild(el),el.setAttribute("data-anim","false"),el.setAttribute("data-anim","true"),setTimeout(function(){el.remove()},400)}function pbDialog(a){a=a||{};var b={content:"",width:300,height:120,modal:!1,title:"Dialog",buttons:{OK:function(){},Cancel:function(){}}};for(c in b)"undefined"==typeof a[c]&&(a[c]=b[c]);this.container=document.createElement("div"),this.container.classList.add("pb-dialog-container"),this.dialog=document.createElement("div"),this.dialog.classList.add("pb-dialog"),this.title=document.createElement("div"),this.title.classList.add("pb-dialog-title"),this.title.innerHTML="<h3>"+a.title+"</h3>",this.content=document.createElement("div"),this.content.classList.add("pb-dialog-content"),this.content.innerHTML=a.content,this.buttons=document.createElement("div"),this.buttons.classList.add("pb-dialog-buttons");var c;for(c in a.buttons){var f=document.createElement("button");f.innerHTML=c,f.addEventListener("click",a.buttons[c]),this.buttons.appendChild(f),this.buttons.appendChild(document.createTextNode(" "))}a.modal&&(this.cover=document.createElement("div"),this.cover.classList.add("pb-dialog-cover"),this.container.appendChild(this.cover)),this.container.appendChild(this.dialog),this.dialog.appendChild(this.title),this.dialog.appendChild(this.content),this.dialog.appendChild(this.buttons),document.getElementsByTagName("body")[0].appendChild(this.container)}function closeDialog(){document.getElementsByClassName("pb-dialog-container")[0].remove()}function insertAtCursor(a,b){if(document.selection)a.focus(),sel=document.selection.createRange(),sel.text=b;else if(a.selectionStart||"0"==a.selectionStart){var c=a.selectionStart,d=a.selectionEnd;a.value=a.value.substring(0,c)+b+a.value.substring(d,a.value.length),a.setSelectionRange(c+b.length,c+b.length),a.focus()}else a.value+=b,a.focus()}"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),String.prototype.replaceAll=function(a,b,c){return this.replace(new RegExp(a.replace(/([\/\,\!\\\^\$\{\}\[\]\(\)\.\*\+\?\|\<\>\-\&])/g,"\\$&"),c?"gi":"g"),"string"==typeof b?b.replace(/\$/g,"$$$$"):b)},String.prototype.trimMask=function(a){for(var b=this.trim();~a.indexOf(b[0]);)b=b.slice(1);for(;~a.indexOf(b[b.length-1]);)b=b.slice(0,-1);return b=b.trim(),b=b.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},String.prototype.countSubstring=function(a){var b=this.split(a);return b.length-1},String.prototype.escapeHTML=function(a){return"undefined"==typeof a?this.replace(/<br \/>/g,"\n").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"<br />"):this.replace(/<br \/>/g,"\n").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"&lt;br /&gt;")},String.prototype.restoreBR=function(){return this.replace(/&lt;br \/&gt;/g," <br />")},String.prototype.escapeHTMLEntities=function(){return escapeHtmlEntities(this)},"undefined"==typeof escapeHtmlEntities&&(escapeHtmlEntities=function(a){return a.replace(/[\u00A0-\u2666<>\&]/g,function(a){return"&"+(escapeHtmlEntities.entityTable[a.charCodeAt(0)]||"#"+a.charCodeAt(0))+";"})},escapeHtmlEntities.entityTable={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"}),String.prototype.splitWithLimit=function(a,b){var d,e,f,c=this,g=[];if(!b)return c.split(a);d=a instanceof RegExp?new RegExp(a.source,"g"+(a.ignoreCase?"i":"")+(a.multiline?"m":"")):new RegExp(a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1"),"g");do e=d.lastIndex,(f=d.exec(c))&&g.push(c.substr(e,f.index-e));while(f&&g.length<b-1);return g.push(c.substr(d.lastIndex)),g};var saveAs=saveAs||function(a){"use strict";if(!("undefined"==typeof a||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var b=a.document,c=function(){return a.URL||a.webkitURL||a},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),e="download"in d,f=function(a){var b=new MouseEvent("click");a.dispatchEvent(b)},g=/constructor/i.test(a.HTMLElement)||a.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),i=function(b){(a.setImmediate||a.setTimeout)(function(){throw b},0)},j="application/octet-stream",k=4e4,l=function(a){var b=function(){"string"==typeof a?c().revokeObjectURL(a):a.remove()};setTimeout(b,k)},m=function(a,b,c){b=[].concat(b);for(var d=b.length;d--;){var e=a["on"+b[d]];if("function"==typeof e)try{e.call(a,c||a)}catch(a){i(a)}}},n=function(a){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a},o=function(b,i,k){k||(b=n(b));var r,o=this,p=b.type,q=p===j,s=function(){m(o,"writestart progress write writeend".split(" "))},t=function(){if((h||q&&g)&&a.FileReader){var d=new FileReader;return d.onloadend=function(){var b=h?d.result:d.result.replace(/^data:[^;]*;/,"data:attachment/file;"),c=a.open(b,"_blank");c||(a.location.href=b),b=void 0,o.readyState=o.DONE,s()},d.readAsDataURL(b),void(o.readyState=o.INIT)}if(r||(r=c().createObjectURL(b)),q)a.location.href=r;else{var e=a.open(r,"_blank");e||(a.location.href=r)}o.readyState=o.DONE,s(),l(r)};return o.readyState=o.INIT,e?(r=c().createObjectURL(b),void setTimeout(function(){d.href=r,d.download=i,f(d),s(),l(r),o.readyState=o.DONE})):void t()},p=o.prototype,q=function(a,b,c){return new o(a,b||a.name||"download",c)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(a,b,c){return b=b||a.name||"download",c||(a=n(a)),navigator.msSaveOrOpenBlob(a,b)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,q)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content),numberingList={"upper-alpha":["A","B","C","D","E","F","G","H","I","J"],"lower-alpha":["a","b","c","d","e","f","g","h","i","j"],"upper-roman":["I","II","III","IV","V","VI","VII","VIII","IX","X"],"lower-roman":["i","ii","iii","iv","v","vi","vii","vii","ix","x"],decimal:["1","2","3","4","5","6","7","8","9","10"],"decimal-leading-zero":["01","02","03","04","05","06","07","08","09","10"]};String.prototype.addImage=function(a,b){if(b=b||"",!a)return this;var d,f,g,h,i,j,c=this,k=c.match(/(?:^|)img:([a-zA-Z\S]+)/gi);for(d in k)f=k[d].trimMask(" \r\n\t "),i=f.indexOf("img:"),g=f.substr(i+4),j=g.indexOf("://")!=-1?"":b,h='<img src="'+j+g+'">',c=c.replace(f,h);return c};var contentModified=!1,currentFileName="",fileNameList=[],parseImg=!0,baseIMGURL="";window.onload=function(){document.getElementById("input").addEventListener("change",function(a){inputChanged(a),contentModified=!0}),document.getElementById("input").addEventListener("keyup",function(a){if("undefined"!=typeof document.createEvent){var b=document.createEvent("KeyboardEvent");b.initEvent("change",!0,!0)}else var b=new Event("change");a.target.dispatchEvent(b)}),document.getElementById("input").addEventListener("focus",function(a){if("undefined"!=typeof document.createEvent){var b=document.createEvent("KeyboardEvent");b.initEvent("change",!0,!0)}else var b=new Event("change");a.target.dispatchEvent(b)}),document.getElementById("input").addEventListener("keydown",function(a){83==a.keyCode&&(navigator.platform.match("Mac")?a.metaKey:a.ctrlKey)&&(a.preventDefault(),""!=currentFileName?(saveFileData(currentFileName,a.target.value),animateSaving()):saveFileAs())}),document.getElementById("input").addEventListener("keypress",function(a){(13==a.keyCode||10==a.keyCode)&&(navigator.platform.match("Mac")?a.metaKey:a.ctrlKey)&&(insertAtCursor(a.target,"\\\\\n"),a.preventDefault(),a.stopPropagation())}),document.getElementById("input").focus(),document.getElementById("file").onchange=function(){var a=this.files[0],b=new FileReader;b.onload=function(a){var b=this.result;document.getElementById("input").value=b,document.getElementById("input").focus()},b.readAsText(a)},document.getElementById("image").onchange=function(){var a=this.files[0];alert(a.name)},contentModified=!1};
</script>
</head>

<body>
<div id="all">
<div class="toolbar-area">
	<a class="toobar" href="javascript:newFile()" title="Buat Ujian Baru"><span class="toolbar-icon toolbar-icon-new"></span></a>
	<a class="toobar" href="javascript:saveFileAs()" title="Simpan Soal Ujian (Ctrl+S)"><span class="toolbar-icon toolbar-icon-save"></span></a>
	<a class="toobar" href="javascript:openFile()" title="Buka Soal Ujian"><span class="toolbar-icon toolbar-icon-open"></span></a>
	<a class="toobar" href="javascript:downloadFile()" title="Unduh Soal Ujian"><span class="toolbar-icon toolbar-icon-download"></span></a>
	<a class="toobar" href="javascript:uploadFile()" title="Unggah Soal Ujian"><span class="toolbar-icon toolbar-icon-upload"></span></a>
	<a class="toobar" href="javascript:downloadFileHTML()" title="Ekspor Soal Ujian (HTML)"><span class="toolbar-icon toolbar-icon-download-html"></span></a>
	<a class="toobar" href="javascript:downloadFileXML()" title="Ekspor Soal Ujian (XML)"><span class="toolbar-icon toolbar-icon-download-xml"></span></a>
	<a class="toobar" href="javascript:downloadFileWord()" title="Ekspor Soal Ujian (Word)"><span class="toolbar-icon toolbar-icon-download-word"></span></a>
	<a class="toobar" href="javascript:printFile()" title="Cetak Soal Ujian"><span class="toolbar-icon toolbar-icon-print"></span></a>
	<a class="toobar" href="javascript:deleteFile()" title="Hapus Soal Ujian"><span class="toolbar-icon toolbar-icon-delete"></span></a>
	<a class="toobar" href="javascript:enterSign()" title="Turun Baris (Ctrl+Enter)"><span class="toolbar-icon toolbar-icon-enter"></span></a>
</div>

	<div id="main">
	<div id="editor-area">
    	<div id="editor-inner">
            <div class="title-bar">Tempat Mengetik Soal</div>
            <textarea id="input" name="input" spellcheck="false" placeholder="Tulis soal ujian di sini"></textarea>
        </div>
    </div>
    <div id="preview-area">
    	<div id="preview-inner">
            <div class="title-bar">Tinjauan Soal</div>
        	<div id="preview">
            	<div id="preview1"></div>
            	<div id="preview2"></div>
            </div>
        </div>
    </div>
    </div>
</div>
<div class="footer">
<div id="status"></div>
</div>
<div id="dialog-area"></div>
<div class="frm1" id="frm1" style="width:1px; height:1px; position:absolute; left:-10000px; top:-10000px;">
<input type="file" id="file" name="file">
</div>
<div class="frm2" id="frm2" style="width:1px; height:1px; position:absolute; left:-10000px; top:-10000px;">
<input type="file" id="image" name="image">
</div>
</body>
</html>
